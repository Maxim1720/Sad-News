<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:composite="http://java.sun.com/jsf/composite">

<ui:composition template="jsf/templates/create_template.xhtml">



    <ui:define name="create-form-inner">
        <h:head>
            <title>#{messages['title.rubric.create']}</title>
        </h:head>

        <div class="container-sm">
            <div class="container-fluid p-4 w-25 d-flex flex-column rounded-3 dark-bg shadow-lg">
                <div class="">
                    <h:outputLabel value="Name" styleClass="d-block form-label">
                        <h:inputText id="rubric-name-input" requiredMessage="Input is empty"
                                     required="true"
                                     value="#{rubricController.name}"
                                     styleClass="form-control bg-gradient text-primary border
                                      #{facesContext.validationFailed? 'border-danger border-4': 'border-success border-4'} ">
                            <f:validator validatorId="rubricValidator"/>
                            <!--                        <f:validateRequired binding="#{rubricValidator}" for="rubric-name-input"/>-->
                            <f:ajax render="messages rubric-name-input" event="valueChange"/>
                        </h:inputText>
                    </h:outputLabel>

                </div>

                <div class="">
                    <h:outputLabel value="Category" for="rubric-select-items" styleClass="form-label"/>
                    <h:selectOneMenu value="#{rubricController.category.id}" required="true" id="rubric-selectList" styleClass="form-select form-control bg-gradient text-primary">
                        <f:selectItems id="rubric-select-items" value="#{categoryController.findAll()}"
                                       var="category"
                                       itemLabel="#{category.name}"
                                       itemValue="#{category.id}" noSelectionValue="#{categoryController.findAll()[0]}"/>
                    </h:selectOneMenu>

                </div>

                <h:commandButton value="create" id="create-rubric-btn" styleClass="w-25 mt-4 btn btn-primary d-block me-0 ms-auto"
                                 action="#{rubricController.create()}"/>

            </div>
            <div class="border-danger border container-fluid w-25 shadow-lg">
                <h:messages id="messages" errorClass="text-danger" styleClass="fs-6 form-text"/>
            </div>
        </div>

    </ui:define>

</ui:composition>


</html>

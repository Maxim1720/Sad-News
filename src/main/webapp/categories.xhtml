<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:category="http://java.sun.com/jsf/composite/component/category">

<ui:composition template="jsf/templates/templLayout.xhtml">
        <ui:define name="content">

            <h:panelGroup id="categories" layout="block" styleClass="h-100 border border-danger min-vh-100">
                <h:panelGroup id="categories-repeat"
                              layout="block"
                              styleClass="border-bottom border-dark border-2 pb-4 mb-2">
                    <ui:repeat value="#{categoryGetController.findAll()}" var="c">
                        <div class="d-inline-flex flex-wrap h-25">
                            <category:priview entity="#{c}" rendered="#{c!=null}"/>
                        </div>
                    </ui:repeat>
                </h:panelGroup>

                <h:form>
                    <h:outputLabel for="category_name_input"
                                   id="category_name_label"
                                   value="Category name">

                        <h:inputText id="category_name_input"
                                     required="true"
                                     maxlength="50"
                                     value="#{categoryCreateController.creatingEntity.name}">
                            <f:validateLength for="category_name_input"
                                              maximum="50" minimum="2"/>
                            <f:validateRegex  for="category_name_input"
                                              pattern="[\w\dа-яА-Я -]+"/>
                        </h:inputText>

                    </h:outputLabel>
                    <h:commandButton value="create"
                                     id="create-button"
                                     action="#{categoryCreateController.create()}" type="submit">
                        <f:ajax render="categories" execute="category_name_input"/>
                    </h:commandButton>
                </h:form>
            </h:panelGroup>




        </ui:define>
    </ui:composition>



</html>
